<div class="container">

<div class="navigation">

* [[AllUnits.wiki|Units]]
* [[ClassHierarchy.wiki|Hierarquia de Classes]]
* [[AllClasses.wiki|Classes, Interfaces, Objetos e Registros]]
* [[AllTypes.wiki|Tipos]]
* [[AllVariables.wiki|Variáveis]]
* [[AllConstants.wiki|Constantes]]
* [[AllFunctions.wiki|Funções e Procedimentos]]
* [[AllIdentifiers.wiki|Identificadores]]


</div>
<div class="content">

= Unit routes =

<div class="sections">

<div class="one_section">

[[#PasDoc-Description|Descrição]]

</div>
<div class="one_section">

[[#PasDoc-Uses|Uses]]

</div>
<div class="one_section">

[[#PasDoc-Classes|Classes, Interfaces, Objetos e Registros]]

</div>
<div class="one_section">

[[#PasDoc-FuncsProcs|Funções e Procedimentos]]

</div>
<div class="one_section">

Tipos

</div>
<div class="one_section">

Constantes

</div>
<div class="one_section">

[[#PasDoc-Variables|Variáveis]]

</div>

</div>
<span id="PasDoc-Description"></span>
== Descrição ==

* A Unit '''<code>routes</code>''' implementa a classe [[routes.TMyHandler.wiki|TMyHandler]] filha de THTTPRoute.
** DESCRIÇÃO
*** A Unit '''<code>routes</code>''' implementa a classe [[routes.TMyHandler.wiki|TMyHandler]] filha de THTTPRoute para demonstrar o uso de objetos sendo executado pelo browser.
*** A Unit '''<code>routes</code>''' demonstra como criar rotiamento usando o método '''HTTPRouter.RegisterRoute'''
** '''REFERÊNCIAS'''
*** [fcl-web](https://wiki.freepascal.org/fcl-web)
** '''CÓDIGO FONTE''':
*** [[../units/routes.pas|routes.pas]]
** '''HISTÓRICO'''
*** Documento criado por: paulosspacheco@yahoo.com.br
**** '''23/03/2023''' : Inicio da documentação deste código

<span id="PasDoc-Uses"></span>
== Uses ==

* sysutils
* classes
* httpdefs
* httproute

== Visão Geral ==

<span id="PasDoc-Classes"></span>
=== Classes, Interfaces, Objetos e Registros ===

{|
! Nome
! Descrição
|-
| Classe [[routes.TMyHandler.wiki|<code>TMyHandler</code>]]
|  
|}

<span id="PasDoc-FuncsProcs"></span>
=== Funções e Procedimentos ===

{|
| <code>Procedure RegisterRoutes;</code>
|-
| <code>Procedure DumpRoutes(L : TStrings; AURL : String);</code>
|-
| <code>Procedure RequestToResponse(ATitle : String; ARequest : TRequest; AResponse : TResponse; RouteParams : Array of String);</code>
|-
| <code>Procedure RequestToResponse(ATitle : String; ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure SimpleCallBack(ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure ParamPathMiddle(ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure ParamPath(ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure ParamPaths2(ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure ComponentPath(AData : Pointer; ARequest : TRequest; AResponse : TResponse);</code>
|-
| <code>Procedure DefaultCallBack(ARequest : TRequest; AResponse : TResponse);</code>
|}

<span id="PasDoc-Variables"></span>
=== Variáveis ===

{|
| <code>BaseURL: String;</code>
|}

== Descrição ==

=== Funções e Procedimentos ===

{|
| <span id="RegisterRoutes"></span><code>Procedure RegisterRoutes;</code>
|-
|  
|}

{|
| <span id="DumpRoutes"></span><code>Procedure DumpRoutes(L : TStrings; AURL : String);</code>
|-
| A procedure <code>DumpRoutes</code> adiciona na lista L os link das rotas registradas
|}

{|
| <span id="RequestToResponse"></span><code>Procedure RequestToResponse(ATitle : String; ARequest : TRequest; AResponse : TResponse; RouteParams : Array of String);</code>
|-
| A procedure <code>RequestToResponse</code> envia para o Browser um página HTML prenchida com os parametros passados por: '''RouteParams'''
|}

{|
| <span id="RequestToResponse"></span><code>Procedure RequestToResponse(ATitle : String; ARequest : TRequest; AResponse : TResponse);</code>
|-
|  
|}

{|
|width="100%"| <span id="SimpleCallBack"></span><code>Procedure SimpleCallBack(ARequest : TRequest; AResponse : TResponse);</code>
|-
|
A procedure <code>SimpleCallBack</code> implementa a rota '''Simple callback''' :

<ul>
<li><p>DESCRIÇÃO:</p>
<ul>
<li><p>Executa a procedure [[routes.wiki#RequestToResponse|RequestToResponse]]('Simple callback',ARequest,AResponse);</p></li></ul>
</li>
<li><p>PARÂMETROS</p>
<ul>
<li><p>'''ARequest'''</p>
<ul>
<li><p>Contém informações vinda do Browser;</p></li></ul>
</li>
<li><p>'''aResponse'''</p>
<ul>
<li><p>Contém informações enviadas para o Browser;</p></li></ul>
</li></ul>

<ul>
<li><p>EXEMPLO DE USO:</p>
<ul>
<li><p>Registro da rota /simple/:</p>
<ul>
<li><p>HTTPRouter.RegisterRoute('simple',rmall,@<code>SimpleCallBack</code>);</p></li></ul>
</li>
<li><p>Chamada do método [[routes.TMyHandler.wiki#HandleRequest|TMyHandler.HandleRequest]]()</p>
<ul>
<li><p>http://localhost:8080/simple/</p></li></ul>
</li></ul>
</li></ul>
</li></ul>
|}

{|
| <span id="ParamPathMiddle"></span><code>Procedure ParamPathMiddle(ARequest : TRequest; AResponse : TResponse);</code>
|-
|  
|}

{|
| <span id="ParamPath"></span><code>Procedure ParamPath(ARequest : TRequest; AResponse : TResponse);</code>
|-
|  
|}

{|
| <span id="ParamPaths2"></span><code>Procedure ParamPaths2(ARequest : TRequest; AResponse : TResponse);</code>
|-
|  
|}

{|
| <span id="ComponentPath"></span><code>Procedure ComponentPath(AData : Pointer; ARequest : TRequest; AResponse : TResponse);</code>
|-
|  
|}

{|
|width="100%"| <span id="DefaultCallBack"></span><code>Procedure DefaultCallBack(ARequest : TRequest; AResponse : TResponse);</code>
|-
|
A procedure <code>DefaultCallBack</code> é executado pelo browser quando o link não tem parâmetro

* DESCRIÇÃO:
** A rota ''''*path'''' pegará todos os outros caminhos, ou seja: Se não informar uma rota o sistema não gera exceção.
* EXEMPLO DE USO:
** Registro da rota:
*** HTTPRouter.RegisterRoute('*path',rmall,@<code>DefaultCallBack</code>,IsDefault=True);
**** Nota:
***** Como o parâmetro IsDefault = true essa chamada deve executada após todos os registros das rotas da unit.
** Chamada do Browser
*** http://localhost:8080/
|}

=== Variáveis ===

{|
| <span id="BaseURL"></span><code>BaseURL: String;</code>
|-
|  
|}


-----

<span class="appinfo">''Gerado por [https://pasdoc.github.io/ PasDoc 0.16.0].'' </span>

</div>

</div>
