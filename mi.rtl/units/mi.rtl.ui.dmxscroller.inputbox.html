<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>unit mi&period;rtl&period;ui&period;dmxscroller&period;inputbox&semi;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension davidmwhynot.markdown-higlightjs */
/*

Atom One Dark by Daniel Gamage
Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

base:    #282c34
mono-1:  #abb2bf
mono-2:  #818896
mono-3:  #5c6370
hue-1:   #56b6c2
hue-2:   #61aeee
hue-3:   #c678dd
hue-4:   #98c379
hue-5:   #e06c75
hue-5-2: #be5046
hue-6:   #d19a66
hue-6-2: #e6c07b

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #abb2bf;
  background: #282c34;
}

.hljs-comment,
.hljs-quote {
  color: #5c6370;
  font-style: italic;
}

.hljs-doctag,
.hljs-keyword,
.hljs-formula {
  color: #c678dd;
}

.hljs-section,
.hljs-name,
.hljs-selector-tag,
.hljs-deletion,
.hljs-subst {
  color: #e06c75;
}

.hljs-literal {
  color: #56b6c2;
}

.hljs-string,
.hljs-regexp,
.hljs-addition,
.hljs-attribute,
.hljs-meta-string {
  color: #98c379;
}

.hljs-built_in,
.hljs-class .hljs-title {
  color: #e6c07b;
}

.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-type,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-number {
  color: #d19a66;
}

.hljs-symbol,
.hljs-bullet,
.hljs-link,
.hljs-meta,
.hljs-selector-id,
.hljs-title {
  color: #61aeee;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-link {
  text-decoration: underline;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        <style>

</style>
        </head>
        <body class="vscode-body vscode-dark">
            <h1 id="unit-mirtluidmxscrollerinputbox">unit mi.rtl.ui.dmxscroller.inputbox;</h1>
<p>{:&lt; A unit <strong>@name</strong> implementa a classe genérica <strong>TMI_UI_InputBox</strong> com objtivo
do pacote maricarai possa comunicar-se com usuário nas interfaces visuais na qual
for implementado inputBox.
}</p>
<p>{$mode Delphi}</p>
<p>interface</p>
<p>uses
Classes, SysUtils
,System.UITypes
,fpjson
,mi.rtl.objects.Methods.Exception
,mi.rtl.Objects.Consts.Mi_MsgBox
,mi_rtl_ui_Dmxscroller;
//  ,mi_rtl_ui_dmxscroller_form;</p>
<p>Type
TMI_UI_InputBox = class;
TModalResult   = System.UITypes.TModalResult;
TUiDmxScroller = mi_rtl_ui_Dmxscroller.TUiDmxScroller;
pDmxFieldRec   = mi_rtl_ui_Dmxscroller.pDmxFieldRec;</p>
<p>{$REGION ' ---&gt;  Tipos procedures of object '}</p>
<pre><code class="hljs">TOnInputBox = function (aTitle   : AnsiString;
                        aTemplate: AnsiString;
                        aOnCloseQuery:TOnCloseQuery ;
                        aFont    : AnsiString;
                        aOnEnter:TOnEnter ;
                        aOnExit:TOnExit;
                        aOnEnterField:TOnEnterField;
                        aOnExitField:TOnExitField;
                        {: O parâmetro @name recebe }
                        aIn_JSONObject: TJSONObject;

                        {: Se o botão MrOk for pressionado aForm retorna um formulário tipo TMI_UI_InputBox }
                        out aOut_JSONObject: TJSONObject
                        ): TModalResult of Object unimplemented;
</code></pre>
<p>{$ENDREGION ' ---&gt;  Tipos e function of object '}</p>
<p>{ TMI_InputBoxTypes}
{: A classe <strong>@name</strong> reune os tipos utilizados na classe TMI_InputBox.}</p>
<p>TMI_InputBoxTypes =
Class(TMI_MsgBoxTypes)
end;</p>
<p>{ TMI_UI_InputBox }
{: A classe <strong>@name</strong> é uma interface abstrata que implementa o método inputbox}
TMI_UI_InputBox = class(TMI_InputBoxTypes)</p>
<pre><code class="hljs">{$REGION ' ---&gt; Property onInputBox : TonInputBox '}
    strict Private Var _onInputBox : TonInputBox;
    Published property  onInputBox: TonInputBox Read _onInputBox   Write  _onInputBox;
{$ENDREGION}

{: O Método @name recebe um template, eventos, json  aIn_JSONObject dos dados iniciais 
   de formulário e retorna em aOut_JSONObject os dados do fomulário editado.
   
   - **Retorno** 
     - Result 
       - Botão MrOk : Se confirmado;
       - Botão MrCancel : Se não confirmado.

   - Exemplo de uso está no método testInputBox dor formulário TMI_UI_InputBox_lcl:

     ```pascal

       class procedure TMI_UI_InputBox_lcl.testInputBox;
         var
           in_JObject,
           out_JObject : TJSONObject;
       begin
         with TMi_rtl,MI_UI_InputBox do
         begin
           in_JObject := TJSONObject.Create(['nome'    ,'Paulo Sérgio',
                                             'endereco','Rua Francisco de Souza Oliveira',
                                             'cep'     ,'61624-300']);

           //Exemplo com eventos
           if InputBox('Teste com eventos',
               ' ~Nome:    ~\sssssssssssssssssssssssssssss`sssssssssssssssssssss'+ChFN+'Nome'+^M+
               ' ~Endereço:~\sssssssssssssssssssssssssssss`ssssssssssssssssssssssss'+ChFN+'Endereco'+^M+
               ' ~Cep:     ~\##.###-###'+ChFN+'cep'+^M
               ,  nil,'',nil,nil,nil,nil
               ,in_JObject
               ,out_JObject) = mrok
           then begin

                  in_JObject.free;
                  out_JObject.free;
                end;

         end;

       end;

     ```

}
public function InputBox (aTitle   : AnsiString;
                          aTemplate: AnsiString;
                          aOnCloseQuery:TOnCloseQuery ;
                          aFont    : AnsiString;
                          aOnEnter:TOnEnter ;
                          aOnExit:TOnExit;
                          aOnEnterField:TOnEnterField;
                          aOnExitField:TOnExitField;
                          {: Recebe o conteúdo do formulário em um json }
                          aIn_JSONObject :TJSONObject;

                          {: Rertorna o conteúdo do formulário em um json }
                          out aOut_JSONObject: TJSONObject
                          ): TModalResult; overload;

{: O Método @name recebe um template de um formulário, um json em aIn_JSONObject
   dos dados iniciais e retorna em os dados digitados em aIn_JSONObject
   se o botão MrOk for pressionado.


   - Exemplo de uso está no método testInputBox dor formulário TMI_UI_InputBox_lcl:

     ```pascal

       class procedure TMI_UI_InputBox_lcl.testInputBox;
         var
           in_JObject,
           out_JObject : TJSONObject;
       begin
         with TMi_rtl,MI_UI_InputBox do
         begin
           in_JObject := TJSONObject.Create(['nome'    ,'Paulo Sérgio',
                                             'endereco','Rua Francisco de Souza Oliveira',
                                             'cep'     ,'61624-300']);

           //Exemplo sem eventos
           if InputBox('Teste sem eventos',
               ' ~Nome:    ~\sssssssssssssssssssssssssssss`sssssssssssssssssssss'+ChFN+'nome'+^M+
               ' ~Endereço:~\sssssssssssssssssssssssssssss`ssssssssssssssssssssssss'+ChFN+'endereco'+^M+
               ' ~Cep:     ~\##.###-###'+ChFN+'cep'+^M+
               ' ~Número:  ~\#########'+ChFN+'numero'+^M
               ,in_JObject
               ,out_JObject) = mrok
           then begin
                  in_JObject.free;
                  out_JObject.free;
                end;

         end;

       end;

     ```
}
public function InputBox (aTitle   : AnsiString;
                          aTemplate: AnsiString;

                          {: Recebe o conteúdo do formulário em um json }
                          aIn_JSONObject :TJSONObject;

                          {: Rertorna o conteúdo do formulário em um json }
                          out aOut_JSONObject: TJSONObject
                          ): TModalResult; overload;



{: O Método @name recebe um template de um formulário, o evento aOnCloseQuery,
   um json em aIn_JSONObject dos dados iniciais e retorna em os dados digitados
   em aIn_JSONObject se o botão MrOk for pressionado.

   - Exemplo de uso está no método testInputBox dor formulário TMI_UI_InputBox_lcl:

     ```pascal

       class procedure TMI_UI_InputBox_lcl.testInputBox;
         var
           in_JObject,
           out_JObject : TJSONObject;
       begin
         with TMi_rtl,MI_UI_InputBox do
         begin
           in_JObject := TJSONObject.Create(['nome'    ,'Paulo Sérgio',
                                             'endereco','Rua Francisco de Souza Oliveira',
                                             'cep'     ,'61624-300']);

           //Exemplo sem eventos
           if InputBox('Teste sem eventos',
               ' ~Nome:    ~\sssssssssssssssssssssssssssss`sssssssssssssssssssss'+ChFN+'nome'+^M+
               ' ~Endereço:~\sssssssssssssssssssssssssssss`ssssssssssssssssssssssss'+ChFN+'endereco'+^M+
               ' ~Cep:     ~\##.###-###'+ChFN+'cep'+^M+
               ' ~Número:  ~\#########'+ChFN+'numero'+^M+
               ' ~Bairro:  ~\ssssssssssssssssssss'+ChFN+'bairro'+^M
               ,nil
               ,in_JObject
               ,out_JObject) = mrok
           then begin
                  in_JObject.free;
                  out_JObject.free;
                end;

         end;

       end;

     ```
}
public function InputBox (aTitle   : AnsiString;
                          aTemplate: AnsiString;

                          {: Recebe o evento que faz crítica antes de fechar o formulário }
                          aOnCloseQuery:TOnCloseQuery ;

                          {: Recebe o conteúdo do formulário em um json }
                          aIn_JSONObject :TJSONObject;

                          {: Rertorna o conteúdo do formulário em um json }
                          out aOut_JSONObject: TJSONObject
                          ): TModalResult; overload;
</code></pre>
<p>end;</p>
<p>procedure Register;</p>
<p>implementation</p>
<p>procedure Register;
begin
RegisterComponents('Mi.Rtl', [TMI_UI_InputBox]);
end;</p>
<p>{ TMI_UI_InputBox }</p>
<p>function TMI_UI_InputBox.InputBox(aTitle: AnsiString;
aTemplate: AnsiString;
aOnCloseQuery: TOnCloseQuery;
aFont: AnsiString;
aOnEnter: TOnEnter;
aOnExit: TOnExit;
aOnEnterField: TOnEnterField;
aOnExitField: TOnExitField;
aIn_JSONObject :TJSONObject;
out aOut_JSONObject: TJSONObject): TModalResult;
begin
if Assigned(onInputBox)
then begin
If (Not ok_Set_Transaction)
then begin
Result := OnInputBox(aTitle,
aTemplate,
aOnCloseQuery,
aFont,
aOnEnter,
aOnExit,
aOnEnterField,
aOnExitField,
aIn_JSONObject,
aOut_JSONObject);
end
else Raise TException.Create(self,'InputBox','Não pode executar entrada de dados dentro de uma tranasação!');
end;
end;</p>
<p>function TMI_UI_InputBox.InputBox(aTitle: AnsiString;
aTemplate: AnsiString;
aIn_JSONObject: TJSONObject;
out aOut_JSONObject: TJSONObject): TModalResult;
begin
result := InputBox(aTitle,aTemplate,nil,'',nil,nil,nil,nil, aIn_JSONObject,aOut_JSONObject);
end;</p>
<p>function TMI_UI_InputBox.InputBox(aTitle: AnsiString; aTemplate: AnsiString;
aOnCloseQuery: TOnCloseQuery;
aIn_JSONObject: TJSONObject; out
aOut_JSONObject: TJSONObject): TModalResult;
begin
result := InputBox(aTitle,aTemplate,aOnCloseQuery,'',nil,nil,nil,nil, aIn_JSONObject,aOut_JSONObject);
end;</p>
<p>end.</p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>